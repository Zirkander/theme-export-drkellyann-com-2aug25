const mutationTargets=document.querySelectorAll(".js-mutation-target"),mutationObserver=new MutationObserver(mutationList=>{for(const mutation of mutationList){const target=mutation.target;if(!target)return;if(mutation.type==="childList"){const text=target.querySelector("a[tabindex]");if(!text)return;const number=text.innerText.split(" ")[0];if(!number)return;text.innerText=number,text.classList.add("updated")}}});mutationTargets.forEach(target=>{mutationObserver.observe(target,{childList:!0,subtree:!0})});const header=document.querySelector(".js-site-header");header&&(header.style.setProperty("--header-height",header.getBoundingClientRect().height+"px"),document.body.style.setProperty("--header-height",header.getBoundingClientRect().height+"px"),window.addEventListener("resize",()=>{header.style.setProperty("--header-height",header.getBoundingClientRect().height+"px"),document.body.style.setProperty("--header-height",header.getBoundingClientRect().height+"px")}));function addToCart(id,quantity,callback){const cartAddUrl=window.cartAddUrl+".js";return fetch(cartAddUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id,quantity}]})}).then(res=>res.json()).catch(error=>console.error(error))}function ready(fn){document.readyState!=="loading"?fn():document.addEventListener("DOMContentLoaded",fn)}ready(function(){console.log("/assets/custom.js.liquid ready");const $=jQuery,moveSocialMediaIcons=()=>{const smIconsClone=document.getElementById("sm-icons").cloneNode(!0),wrapper=document.createElement("li");wrapper.classList.add("header-social-icons"),wrapper.appendChild(smIconsClone),document.querySelector("ul.mobile-nav:last-child").append(wrapper)},createSplideCarousel=()=>{const elms=document.getElementsByClassName("splide");for(var i2=0;i2<elms.length;i2++)new Splide(elms[i2]).mount()},productTabs=()=>{const productTabs2=$(".product-tabs"),mobileProductTabs=$(".product-tabs--mobile");productTabs2.on("click",".tab",function(e){const tabIndex=$(e.target).attr("href"),tabContainer=e.delegateTarget,tabNavs=$(tabContainer).find(".tab-nav .tab"),tabPanes=$(tabContainer).find(".tab-content > div");for(tabNavs.removeClass("active"),$(this).addClass("active"),e.preventDefault(),tabPanes.hide(),tabPanes.removeClass("active"),i=0;i<tabPanes.length;i++)$(tabPanes).eq(i).is(tabIndex)&&($(tabPanes).eq(i).show(),$(tabPanes).eq(i).addClass("active"))}),mobileProductTabs.on("click",".tab > a",function(e){e.preventDefault(),$(this).parent(".tab").find(".tab-content").slideToggle(function(){$(this).is(":visible")?$(this).parent(".tab").addClass("active"):$(this).parent(".tab").removeClass("active")})})},initReadMore=()=>{const descriptionTab=$(".description-tab--content"),maxHeight=800,origHeight=$(descriptionTab).height();$(descriptionTab).height()>=maxHeight&&(descriptionTab.addClass("has-more"),descriptionTab.attr("data-original-height",origHeight),descriptionTab.after('<div class="read-more--toggle">Read More...</div>')),$(document).on("click",".read-more--toggle",function(){const content=$(this).prev(".description-tab--content"),origHeight2=content.data("original-height");console.log(content.height()),content.height()==origHeight2?(content.animate({height:500},500),$(".read-more--toggle").text("Read More...")):(content.animate({height:origHeight2},500),$(".read-more--toggle").text("Read Less..."))})},rechargeSelectors=()=>{setTimeout(function(){console.log("rechargeSelectors"),$("label.onetime-radio span.rc-radio__label").text("One-Time Purchase"),$(".rc-selling-plans").appendTo("label.subscription-radio")},3800)},navigationUx=()=>{const menuImage=$(".mega-menu--image"),navContainer=$("header.site-header .custom-mega-menu");$(document).on("mouseover","ul.mega-menu-wrapper > li.site-nav--has-dropdown.mega-menu",function(){$(this).hasClass("shop-all")?(menuImage.show(),navContainer.css("height","490px")):(menuImage.hide(),navContainer.css("height","300px"))}),$(document).on("mouseover","li.site-nav--has-dropdown.mega-menu.shop-all",function(){menuImage.show(),navContainer.css("height","490px")}),$(document).on("mouseover","li.site-nav--has-dropdown.mega-menu.diets-&-programs",function(){menuImage.hide(),navContainer.css("height","300px")}),$(document).on("mouseover","li.site-nav--has-dropdown.mega-menu.discover",function(){menuImage.hide(),navContainer.css("height","300px")})};function getCookie(name){const parts=("; "+document.cookie).split("; "+name+"=");if(parts.length===2)return parts.pop().split(";").shift()}function updateAnnouncementBar(){const discountCodeCookie=getCookie("discount_code"),announcementBarMessage=document.querySelector(".swiper-slide-active .announcement-bar--message-inner");discountCodeCookie&&discountCodeCookie&&(announcementBarMessage.innerHTML=`Code: ${discountCodeCookie} applied at checkout`)}const customPopup=()=>{document.querySelectorAll("[data-popup-btn]").forEach(function(element){element.addEventListener("click",function(e){e.preventDefault();const title=element.getAttribute("data-popup-title"),content=element.getAttribute("data-popup-content");console.log("this ",element),console.log("content ",content),document.querySelector(".pdp-custom-popup .modal-header").textContent="",document.querySelector(".pdp-custom-popup .modal-body").innerHTML="",document.querySelector(".pdp-custom-popup .modal-header").textContent=title,document.querySelector(".pdp-custom-popup .modal-body").innerHTML=content,document.querySelector(".pdp-custom-popup.modal-overlay").classList.add("show")})}),document.querySelector(".pdp-custom-popup .modal-close-btn").addEventListener("click",function(e){document.querySelector(".pdp-custom-popup.modal-overlay").classList.remove("show")})};function mobileStickyHeader(){var didScroll,lastScrollTop=0,delta=5,navbarHeight=$("header").outerHeight();$(window).scroll(function(event){didScroll=!0}),setInterval(function(){didScroll&&(hasScrolled(),didScroll=!1)},250);function hasScrolled(){var st=$(this).scrollTop();Math.abs(lastScrollTop-st)<=delta||(st>lastScrollTop&&st>navbarHeight?$("#mobileNavBar").removeClass("nav-down").addClass("nav-up"):st+$(window).height()<$(document).height()&&$("#mobileNavBar").removeClass("nav-up").addClass("nav-down"),lastScrollTop=st)}}updateAnnouncementBar(),moveSocialMediaIcons(),createSplideCarousel(),productTabs(),initReadMore(),rechargeSelectors(),customPopup(),mobileStickyHeader()});
//# sourceMappingURL=/cdn/shop/t/229/assets/custom.js.map?v=148513697579850945261729697658
